/*! iTick by Travis Smith <t@wpsmith.net> - v1.0.0 - Generated: 09-09-2014 */Date.now=Date.now||function(){return+new Date};var iTick=function(a){function b(a){"use strict";var b,c,d,e,f,g=typeof a;if(!("function"===g||"object"===g&&a))return a;for(e=1,f=arguments.length;f>e;e++)if(b=arguments[e],c=typeof b,"function"===c||"object"===c&&a)for(d in b)a[d]=b[d];return a}function c(){if(q.countdown)return!1;var a=!1;q.running&&(a=!0),g(),q.time.start=0,q.time.time=0,q.elapsed="0.0",a&&e(),o("reset")}function d(a){return"function"==typeof q[a]?(q[a](this),!0):!1}function e(a){if(q.running&&!a)g(),c();else if(q.running)return;"undefined"==typeof a&&(a=0),q.time.start=a,d("onStart"),q.countdown?m(q.time.start):n(q.time.start)}function f(){q.time.time+=q.interval,q.elapsed=~~(q.time.time/q.interval)/10,Math.round(q.elapsed)===q.elapsed&&(q.elapsed+=".0");var a=Date.now()-q.time.start-q.time.time,b=q.interval-a;d("onTick"),q.countdown&&q.duration_ms-q.time.time<0&&(q.time.end=0,q.running=!1,d("onEnd")),0>=b?(q.missed_ticks=~~(Math.abs(b)/q.interval),q.time.time+=q.missed_ticks*q.interval,q.running&&f()):q.running&&(q.timeout=window.setTimeout(f,b))}function g(){q.running=!1,o("stopped"),window.clearTimeout(this.timeout),q.countdown?q.time.end=duration_ms-q.time.time:(q.time.end=Date.now()-q.time.start,d("onEnd"))}function h(){o("paused"),d("onPause"),q.running?(q.time.pause=i(),g()):e(q.time.pause)}function i(a){var b;if(q.running){var c;c=q.countdown?q.duration_ms-(Date.now()-q.time.start):Date.now()-q.time.start,q.laps.push(c),b=c}else b=q.time.pause||q.time.end,q.laps.push(b);return a?k(b):b}function j(a,b){var c=a.toString();if(c.length<b)for(var d=c.length;b>d;d++)c="0"+c;return c}function k(a){if(0>=a)return"00:00:00.000";var b,c,d,e;return b=~~(a%1e3),a=(a-b)/1e3,c=~~(a%60),a=~~((a-c)/60),d=~~(a%60),e=~~((a-d)/60),b=j(b,1),b=j(b,2),c=j(c,1),d=j(d,1),e=j(e,1),e+":"+d+":"+c+"."+b}function l(a){var b=new Date(a).getTime();if(!b){var c=a.split(":");b=6e4*parseInt(c[0],10),c.length>1&&(b+=1e3*parseInt(c[1],10)),c.length>2&&(b+=parseInt(c[2],10))}return b}function m(a){o("started"),duration_ms=a,time.start=Date.now(),end_time.time=time.start+duration_ms,time.time=0,elapsed="0.0",running=!0,f(),this.timeout=window.setTimeout(f,interval)}function n(a){o("started"),q.time.start=Date.now()-a,q.time.time=0,q.elapsed="0.0",q.running=!0,f(),q.timeout=window.setTimeout(f,q.interval)}function o(a){q.status=a,d("onStatusChange")}function p(){for(var c in q.defaults)a.hasOwnProperty(c)&&(q.o[c]=a[c]);b(q,q.o)}iTick.instances=(iTick.instances||0)+1;var q={o:{},running:!1,defaults:{interval:10,countdown:!1,onTick:null,onStatusChange:null,onStart:null,onEnd:null,onPause:null},id:"iTick_"+ +new Date,timeout:null,missed_ticks:null,time:{start:0,pause:0,end:0,time:0},laps:[],duration_ms:0,elapsed:0,status:"initialized"};return p(),{id:q.id,options:q.o,start:e,pause:h,stop:g,reset:c,lap:i,msToTime:k,timeToMS:l}};